function f(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function u(e,o=!1){const n=f(),r=`_${n}`;return Object.defineProperty(window,r,{value:t=>(o&&Reflect.deleteProperty(window,r),e==null?void 0:e(t)),writable:!1,configurable:!0}),n}async function w(e,o={}){return new Promise((n,r)=>{const t=u(i=>{n(i),Reflect.deleteProperty(window,`_${d}`)},!0),d=u(i=>{r(i),Reflect.deleteProperty(window,`_${t}`)},!0);window.__TAURI_IPC__({cmd:e,callback:t,error:d,...o})})}export{w as i,u as t};
